{% extends 'coreApp/base.html' %} {% block content %}
<!-- <h1 class="title">Dashboard</h1> -->
{% if userprofile.is_employer %}
<p class=" buttons m-5 is-mobile">
    <button class=" button is-link is-outlined" disabled>
      <span class="icon">
        <i class="fab fa-briefcase"></i>
      </span>
      <span>Logged in as Employer</span>
    </button>
</p>
<!-- <h1 class="title"> Logged in as Employer</h1> -->
<div class="is-5 column" style="margin-bottom:100px;">
    <div class="content ">
        <div class="card-header title">
            Jobs Added
            <a class="button is-link is-outlined" href="{%url 'new' %}">Add New Job</a>
        </div>

        <div class="content">
            {% for job in request.user.jobs.all %}
            <ul style="list-style-type: none;">
                <li>

                    <a href="{% url 'view_dashboard_job' job.id %}"> 
      {{ job.title }}--{{ job.get_status_display}}
  </a>
                </li>
            </ul>
            {% empty %}
            <p>No Jobs Posted Yet</p>
            {% endfor %} {% else %}

            <h2 class="title  m-5">Logged in As Job seeker </h2>

            <h2 class="subtitle"> Job Applications</h2>
            {%for application in request.user.applications.all %}
            <div class="application">

                <a href="{% url 'view_application' application.id %}">  {{application.job.title}}</a>
            </div>
            {% empty %}
            <h2>Not Yet</h2>
            {% endfor%} {% endif %}
        </div>


    </div>
</div>
<!-- {{form.as_p}} hgjgyugh -->
{% if userprofile.is_employer %}
<!-- {{company_profile_form.as_p}} -->

<a role="button" class="button is-primary is-large modal-button md-button" data-target="modal" aria-haspopup="true">
    Launch  Profile Form
</a>
<div class="modal" id="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title"> Details Form</p>
            <button class="delete" aria-label="close"></button>
        </header>
        <section class="modal-card-body">
            <!-- {{form.as_p}} -->
            <form action="." method="POST">
                {% csrf_token %}
                <div class="field">
                    <label class="label">Company Name</label>
                    <div class="control has-icons-left has-icons-right">
                        <input name="company_name" id="id_company_name" class="input is-success" type="text" placeholder="Input First Name" value="">
                        <span class="icon is-small is-left">
                    <i class="fas fa-user"></i>
                  </span>

                    </div>

                </div>

                <div class="field">
                    <label class="label">Company CEO</label>
                    <div class="control has-icons-left has-icons-right">
                        <input name="company_ceo" id="id_company_ceo" class="input is-success" type="text" placeholder="Input Last Name" value="">
                        <span class="icon is-small is-left">
                    <i class="fas fa-user"></i>
                  </span>
                    </div>
                </div>

                <div class="field">
                    <label class="label">About Company</label>
                    <textarea name="company_about" id="id_company_about" class="textarea is-primary" placeholder="Primary textarea"></textarea>
                </div>





                <div id="file-js-example" class="file has-name">
                    <label class="file-label">
                      <input name="company_logo" id="id_company_logo" class="file-input" type="file" >
                      <span class="file-cta">
                        <span class="file-icon">
                          <i class="fas fa-upload"></i>
                        </span>
                        <span class="file-label">
                          Choose a fileâ€¦
                        </span>
                      </span>
                      <span class="file-name">
                        No file uploaded
                      </span>
                    </label>
                </div>

                <div class="field">
                    <label class="label">Email</label>
                    <div class="control has-icons-left has-icons-right">
                        <input name="company_email" id="id_company_email" class="input is-success" type="email" placeholder="Ex. abc@ab.com" value="">
                        <span class="icon is-small is-left">
                    <!-- <i class="fas fa-user"></i> -->
                    <i class="fas fa-user-tag"></i>
                  </span>
                    </div>
                </div>



                <div class="field">
                    <label class="label">Tell :</label>
                    <div class="control has-icons-left has-icons-right">
                        <input value="" name="company_tel" id="id_company_tel" class="input is-success" type="text" placeholder="Input Last Name" value="">
                        <span class="icon is-small is-left">
                    <!-- <i class="fas fa-user"></i> -->
                    <i class="fas fa-phone"></i>
                  </span>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Website</label>
                    <div class="control has-icons-left has-icons-right">
                        <input name="company_website" id="id_company_website" class="input is-success" type="text" placeholder="Input Last Name" value="">
                        <span class="icon is-small is-left">
                    <i class="fas fa-user-tag"></i>
                  </span>
                    </div>
                </div>
                <div class="field">
                    <label class="label">Location Link :</label>
                    <div class="control has-icons-left has-icons-right">
                        <input name="company_location" id="id_company_location" class="input is-success" type="text" placeholder="Input Last Name" value="">
                        <span class="icon is-small is-left">
                    <i class="fas fa-user-tag"></i>
                  </span>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Country</label>
                    <p class="control has-icons-left">
                        <span class="select">
                            {% load countries %} {% get_countries as countries %}
                        <select>
                            {% for country in countries %}
                            <option value="{{ country.code }}">{{ country.name }}</option>
                        {% endfor %}
                        </select>
                      </span>
                        <span class="icon is-small is-left">
                        <i class="fas fa-globe"></i>
                      </span>
                    </p>
                </div>

                <div class="field">
                    <label class="label">City :</label>
                    <div class="control has-icons-left has-icons-right">
                        <input name="company_city" id="id_company_city" class="input is-success" type="text" placeholder="Input Last Name" value="">
                        <span class="icon is-small is-left">
                            <i class="fas fa-user-tag"></i>
                          </span>
                    </div>
                </div>
                <footer class="modal-card-foot">
                    <div class="field is-grouped">
                        <div class="control">
                            <button class="button is-link">Submit</button>
                        </div>
                        <div class="control">
                            <button class="cancel button is-link is-light">Cancel</button>
                        </div>
                    </div>
                </footer>

                <!-- <footer class="modal-card-foot">
                    <button type="submit" class="button is-success">Save changes</button>
                    <button class="button cancel">Cancel</button>
                </footer> -->
            </form>
        </section>
    </div>







</div>
</div>
{% else %}
<div class="container">
    <a role="button" class="button is-primary is-large modal-button md-button" data-target="modal" aria-haspopup="true">
    Launch Job seeker Profile Form
</a>



    <div class="modal" id="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Job Seeker Details Form</p>
                <button class="delete" aria-label="close"></button>
            </header>
            <section class="modal-card-body">
                <!-- {{form.as_p}} -->
                <form action="." method="POST">
                    {% csrf_token %}
                    <div class="field">
                        <label class="label">First Name</label>
                        <div class="control has-icons-left has-icons-right">
                            <input name="first_name" id="id_first_name" class="input is-success" type="text" placeholder="Input First Name" value="">
                            <span class="icon is-small is-left">
                        <i class="fas fa-user"></i>
                      </span>
                            <!-- <span class="icon is-small is-right">
                        <i class="fas fa-check"></i>
                      </span> -->
                        </div>
                        <!-- <p class="help is-success">This username is available</p> -->
                    </div>

                    <div class="field">
                        <label class="label">Last Name</label>
                        <div class="control has-icons-left has-icons-right">
                            <input name="last_name" id="id_last_name" class="input is-success" type="text" placeholder="Input Last Name" value="">
                            <span class="icon is-small is-left">
                        <i class="fas fa-user"></i>
                      </span>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Title</label>
                        <div class="control has-icons-left has-icons-right">
                            <input name="title" id="id_title" class="input is-success" type="text" placeholder="Input Last Name" value="">
                            <span class="icon is-small is-left">
                        <!-- <i class="fas fa-user"></i> -->
                        <i class="fas fa-user-tag"></i>
                      </span>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Role</label>
                        <div class="control has-icons-left has-icons-right">
                            <input name="role" id="id_role" class="input is-success" type="text" placeholder="Input Last Name" value="">
                            <span class="icon is-small is-left">
                        <i class="fas fa-user-tag"></i>
                      </span>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Phone</label>
                        <div class="control has-icons-left has-icons-right">
                            <input value="{{ phone }}" name="phone" id="id_phone" class="input is-success" type="text" placeholder="Input Last Name" value="">
                            <span class="icon is-small is-left">
                        <!-- <i class="fas fa-user"></i> -->
                        <i class="fas fa-phone"></i>
                      </span>
                        </div>
                    </div>


                    <div class="field">
                        <label class="label">Country</label>
                        <p class="control has-icons-left">
                            <span class="select">
                                {% load countries %} {% get_countries as countries %}
                            <select>
                                {% for country in countries %}
                                <option value="{{ country.code }}">{{ country.name }}</option>
                            {% endfor %}
                            </select>
                          </span>
                            <span class="icon is-small is-left">
                            <i class="fas fa-globe"></i>
                          </span>
                        </p>
                    </div>



                    <div class="field">
                        <label for="gender" class="label">Gender</label>
                        <div class="control">
                            <div class="select">

                                <select name="gender" id="gender">
                                {% for choice in form.gender %}
                          <!-- <option value="Male">Male</option>
                          <option value="Female">Female</option> -->
                          <button><option value="gender">{{choice}}</option></button>
                       
                          
                          {% endfor %}
                        </select>
                            </div>
                        </div>
                    </div>

                    <div class="field is-grouped">
                        <div class="control">
                            <button class="button is-link">Submit</button>
                        </div>
                        <div class="control">
                            <button class="cancel button is-link is-light">Cancel</button>
                        </div>
                    </div>

                </form>
            </section>

        </div>
    </div>

</div>
{% endif %}


<!-- <button id="modal" class="button is-primary is-large modal-button md-button" data-target="modal" aria-haspopup="true">Launch example modal</button> -->



<div style="margin-bottom:150px;"></div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script>
    $(document).ready(function() {

        // Check for click events on the navbar burger icon
        $(".md-button").click(function() {

            // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
            $(".modal").toggleClass("is-active");
            // $(".delete").removeClass("is-active");

        });
        $(".modal-close").click(function() {
            $(".modal").removeClass("is-active");
        });
    });
    $(document).ready(function() {

        // Check for click events on the navbar burger icon
        $(".delete,.cancel").click(function() {

            // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
            $(".modal").removeClass("is-active");
            // $(".delete").removeClass("is-active");

        });
    });
</script>

<script>
    const fileInput = document.querySelector('#file-js-example input[type=file]');
    fileInput.onchange = () => {
        if (fileInput.files.length > 0) {
            const fileName = document.querySelector('#file-js-example .file-name');
            fileName.textContent = fileInput.files[0].name;
        }
    }
</script>
{% endblock %}